<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Courier Quest – Prototype</title>
  <style>
    :root{--bg:#0e0f13;--ink:#e8eef2;--muted:#9aa4ad;--accent:#4fd1c5;}
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial;
      background:var(--bg);
      color:var(--ink);
    }
    header{
      padding:12px 16px;
      border-bottom:1px solid #1c232b;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .hud{
      display:flex;
      gap:12px;
      align-items:center;
      font-weight:600;
      flex-wrap:wrap;
    }
    main{
      max-width:1000px;
      margin:0 auto;
      padding:16px;
    }
    canvas{
      display:block;
      margin:12px auto;
      border:2px solid #1c232b;
      background:#111620;
      max-width:100%;
    }
    .help{
      color:var(--muted);
      font-size:0.95rem;
    }
    kbd{
      background:#1b2430;
      border:1px solid #283244;
      border-radius:6px;
      padding:2px 6px;
    }
    button{
      background:var(--accent);
      border:0;
      color:#013034;
      padding:6px 12px;
      border-radius:8px;
      font-weight:700;
      cursor:pointer;
    }
    button:disabled{
      opacity:0.5;
      cursor:not-allowed;
    }
    .overlay{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      background:rgba(0,0,0,.55);
      color:#fff;
      font-size:2rem;
      font-weight:700;
      text-align:center;
    }
    .overlay.show{ display:grid; }
    .video-modal{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      background:rgba(0,0,0,.85);
      z-index:1000;
    }
    .video-modal.show{ display:grid; }
    .video-container{
      position:relative;
      max-width:90vw;
      max-height:90vh;
    }
    .video-container video{
      max-width:100%;
      max-height:90vh;
      display:block;
    }
    .close-btn{
      position:absolute;
      top:-40px;
      right:0;
      background:#e63946;
      color:#fff;
      border:0;
      width:36px;
      height:36px;
      border-radius:50%;
      font-size:20px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .close-btn:hover{
      background:#d62828;
    }
  </style>
</head>
<body>
  <header>
    <div><strong>Courier Quest</strong> – Prototype</div>
    <div class="hud">
      <span id="ui-level">Area: Street</span>
      <span id="ui-lives">Lives: 3</span>
      <span id="ui-time">Time: 60</span>
      <span id="ui-pkgs">Packages: 0/0</span>
      <span id="ui-carry">Carrying: 0</span>
      <span id="ui-score">Score: 0</span>
      <button id="btn-restart" type="button">Restart</button>
      <button id="btn-demo" type="button">Watch Demo</button>
    </div>
  </header>

  <main>
    <p class="help">
      Move with <kbd>Arrow Keys</kbd>/<kbd>WASD</kbd>. Toggle area with <kbd>N</kbd>.
      Pause with <kbd>P</kbd>. Restart with <kbd>R</kbd> or the <strong>Restart</strong> button.
      Click <strong>Watch Demo</strong> to see a gameplay video!
    </p>
    <canvas id="game" width="960" height="540" role="img" aria-label="Courier Quest canvas game"></canvas>
  </main>

  <div id="overlay" class="overlay">Game Over – Press R to Restart</div>

  <!-- Demo Video Modal -->
  <div id="video-modal" class="video-modal">
    <div class="video-container">
      <button id="close-video" class="close-btn">✕</button>
      <video id="demo-video" controls>
        <source src="demo.webm" type="video/webm">
        Your browser does not support the video tag.
      </video>
    </div>
  </div>

  <script type="module" src="main.js"></script>

</body>
</html>
